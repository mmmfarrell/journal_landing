% *** with the testflow diagnostic prior to trusting their LaTeX platform ***
% *** with production work. The IEEE's font choices and paper sizes can   ***
% *** trigger bugs that do not appear when using other class files.       ***                          ***
% The testflow support page is at:
% http://www.michaelshell.org/tex/testflow/

\documentclass[journal]{IEEEtran}
% \documentclass[draft]{IEEEtran}
%
% If IEEEtran.cls has not been installed into the LaTeX system files,
% manually specify the path to it like:
% \documentclass[journal]{../sty/IEEEtran}

%
\usepackage{cite}
\usepackage[hidelinks]{hyperref}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{tabularx}
\usepackage{amsmath,amssymb,amsbsy,amsfonts}
\usepackage{accents}
\usepackage{nicefrac}
\usepackage{upgreek}
\usepackage[]{footmisc}
\usepackage{url}

% *** Do not adjust lengths that control margins, column widths, etc. ***
% *** Do not use packages that alter fonts (such as pslatex).         ***
% There should be no need to do such things with IEEEtran.cls V1.6 and later.
% (Unless specifically asked to do so by the journal or conference you plan
% to submit to, of course. )
\input{macros}

\setcounter{MaxMatrixCols}{20}

\hyphenation{michaeldavidfarrell}

\begin{document}
%
\title{
Improving State Estimation of a Landing Target Vehicle
From a Multirotor UAV Using \\
Visual Feature Tracking
}
%
%
% author names and IEEE memberships
% note positions of commas and nonbreaking spaces ( ~ ) LaTeX will not break
% a structure at a ~ so this keeps an author's name from being broken across
% two lines.
% use \thanks{} to gain access to the first footnote area
% a separate \thanks must be used for each paragraph as LaTeX2e's \thanks
% was not built to handle multiple paragraphs
%
\author{Michael~D.~Farrell
  and~Timothy~W.~McLain,~\IEEEmembership{Senior~Member,~IEEE}%
\thanks{Manuscript received January 19, 2020; revised January 26, 2020.
This work was supported by the National Science Foundation STTR Phase
II: Autonomous Landing of Small Unmanned Aircraft Systems onto Moving Platforms,
Award No. IIP-1758678 in partnership with Planck Aerosystems. (\textit{Corresponding
author: Michael D. Farrell}.)}%
\thanks{The authors are with the Department of Mechanical Engineering, Brigham
Young University, Provo, UT, 84602 USA (e-mail: michaeldavidfarrell@gmail.com;
mclain@byu.edu).}%
\thanks{Color versions of one or more of the figures in this paper are available
online at \url{http://ieeexplore.ieee.org}.}%
\thanks{Digital Object Identifier XX.XXXX/TMECH.20XX.XXXXXXX}
% \thanks{Michael Farrell is an M.S. student in the Department of Mechanical
% Engineering, Brigham Young University, Provo, UT, 84602, USA.}% <-this % stops a space
% \thanks{Tim McLain is a Professor in the Department of Mechanical
% Engineering, Brigham Young University, Provo, UT, 84602, USA.}% <-this % stops a space
}

% \author{Michael~Shell,~\IEEEmembership{Member,~IEEE,}
        % John~Doe,~\IEEEmembership{Fellow,~OSA,}
        % and~Jane~Doe,~\IEEEmembership{Life~Fellow,~IEEE}% <-this % stops a space
% \thanks{M. Shell was with the Department
% of Electrical and Computer Engineering, Georgia Institute of Technology, Atlanta,
% GA, 30332 USA e-mail: (see http://www.michaelshell.org/contact.html).}% <-this % stops a space
% \thanks{J. Doe and J. Doe are with Anonymous University.}% <-this % stops a space
% \thanks{Manuscript received April 19, 2005; revised August 26, 2015.}}

% note the % following the last \IEEEmembership and also \thanks - 
% these prevent an unwanted space from occurring between the last author name
% and the end of the author line. i.e., if you had this:
% 
% \author{....lastname \thanks{...} \thanks{...} }
%                     ^------------^------------^----Do not want these spaces!
%
% a space would be appended to the last name and could cause every name on that
% line to be shifted left slightly. This is one of those "LaTeX things". For
% instance, "\textbf{A} \textbf{B}" will typeset as "A B" not "AB". To get
% "AB" then you have to do: "\textbf{A}\textbf{B}"
% \thanks is no different in this regard, so shield the last } of each \thanks
% that ends a line with a % and do not let a space in before the next \thanks.
% Spaces after \IEEEmembership other than the last one are OK (and needed) as
% you are supposed to have spaces between the names. For what it is worth,
% this is a minor point as most people would not even notice if the said evil
% space somehow managed to creep in.



% The paper headers
% \markboth{Journal of \LaTeX\ Class Files,~Vol.~14, No.~8, August~2015}%
% {Shell \MakeLowercase{\textit{et al.}}: Bare Demo of IEEEtran.cls for IEEE Journals}
\markboth{IEEE/ASME TRANSACTIONS ON MECHATRONICS,~VOL.~XX, NO.~X, JANUARY~20XX}%
{FARRELL AND MCLAIN: 
IMPROVING STATE ESTIMATION OF A LANDING TARGET VEHICLE
FROM A MULTIROTOR UAV USING
VISUAL FEATURE TRACKING}
% MODEL-BASED CONTROLLER DESIGN FOR A LIFT-AND-DROP RAILWAY TRACK SWITCH ACTUATOR}
% {Shell \MakeLowercase{\textit{et al.}}: Bare Demo of IEEEtran.cls for IEEE Journals}
% The only time the second header will appear is for the odd numbered pages
% after the title page when using the twoside option.
% 
% *** Note that you probably will NOT want to include the author's ***
% *** name in the headers of peer review papers.                   ***
% You can use \ifCLASSOPTIONpeerreview for conditional compilation here if
% you desire.

% If you want to put a publisher's ID mark on the page you can do it like
% this:
%\IEEEpubid{0000--0000/00\$00.00~\copyright~2015 IEEE}
% Remember, if you use this you must call \IEEEpubidadjcol in the second
% column for its text to clear the IEEEpubid mark.

% use for special paper notices
%\IEEEspecialpapernotice{(Invited Paper)}

% make the title area
\maketitle

% As a general rule, do not put math, special symbols or citations
% in the abstract or keywords.
\begin{abstract}
  We propose an error-state Kalman filter to improve the state estimation of a
  landing target vehicle as observed by an approaching multirotor unmanned aerial
  vehicle (UAV). As is common, we
  assume that the target vehicle is outfitted with a fiducial landing marker.
  In addition to measurements from the fiducial landing marker, the proposed
  estimator uses measurements of visual features which are tracked in the UAV's
  camera frame. We assume that these tracked visual features are rigidly
  attached to the target vehicle such that they provide information to the
  filter about the relative pose between the UAV to the target vehicle. We show
  in both simulation and hardware experiments that the addition of these visual
  features to the filter allows for accurate and consistent estimates of the
  state of the landing vehicle even when the fiducial landing marker is not
  detected for significant periods of time.
\end{abstract}

% Note that keywords are not normally used for peerreview papers.
\begin{IEEEkeywords}
  unmanned aerial vehicles, state estimation, autonomous vehicles,
  visual-inertial data fusion
\end{IEEEkeywords}

% For peer review papers, you can put extra information on the cover
% page as needed:
% \ifCLASSOPTIONpeerreview
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
% \fi
%
% For peerreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle

% \section{Introduction}
% % The very first letter is a 2 line initial drop letter followed
% % by the rest of the first word in caps.
% % 
% % form to use if the first word consists of a single letter:
% % \IEEEPARstart{A}{demo} file is ....
% % 
% % form to use if you need the single drop letter followed by
% % normal text (unknown if ever used by the IEEE):
% % \IEEEPARstart{A}{}demo file is ....
% % 
% % Some journals put the first two words in caps:
% % \IEEEPARstart{T}{his demo} file is ....
% % 
% % Here we have the typical use of a "T" for an initial drop letter
% % and "HIS" in caps to complete the first word.
% \IEEEPARstart{T}{his} demo file is intended to serve as a ``starter file''
% for IEEE journal papers produced under \LaTeX\ using
% IEEEtran.cls version 1.8b and later.
% % You must have at least 2 lines in the paragraph with the drop letter
% % (should never be an issue)
% I wish you the best of success.

% \hfill mds
 
% \hfill August 26, 2015

\section{Introduction} \label{sec:intro}
\input{introduction/background}
\input{introduction/paper_layout}

% needed in second column of first page if using \IEEEpubid
%\IEEEpubidadjcol

\section{Mathematical Preliminaries} \label{sec:math_prelim}
\input{model/notation}
\input{model/quaternions}
\input{model/s1}

\section{Estimation} \label{sec:estimation}
\input{estimation/estimator}
\input{estimation/dynamics}
\input{estimation/measurements}
\input{estimation/initialization}

\section{Simulation} \label{sec:est_paper_simulation}
\input{simulation/simulation}

\section{Hardware} \label{sec:est_paper_hardware}
\input{hardware/platform}
\input{hardware/aruco}
\input{hardware/feature_tracking}
\input{hardware/mocap}
\input{hardware/landing_vehicle}
\input{hardware/results}

\section{Conclusion} \label{sec:est_paper_conclusion}
The proposed ESKF provides a method for maintaining accurate and consistent
estimates of the state of a landing target vehicle when a fiducial landing marker is
not detected for significant periods of time. This improvement is achieved by
tracking and estimating the locations of unknown visual features on the target
vehicle.
The presented experiments demonstrated that the addition of just ten visual
feature positions to the estimated state
is sufficient to allow for reliable operation with respect to a target vehicle
for more than one
minute without detection of a fiducial landing marker.


% An example of a floating figure using the graphicx package.
% Note that \label must occur AFTER (or within) \caption.
% For figures, \caption should occur after the \includegraphics.
% Note that IEEEtran v1.7 and later has special internal code that
% is designed to preserve the operation of \label within \caption
% even when the captionsoff option is in effect. However, because
% of issues like this, it may be the safest practice to put all your
% \label just after \caption rather than within \caption{}.
%
% Reminder: the "draftcls" or "draftclsnofoot", not "draft", class
% option should be used if it is desired that the figures are to be
% displayed while in draft mode.
%
%\begin{figure}[!t]
%\centering
%\includegraphics[width=2.5in]{myfigure}
% where an .eps filename suffix will be assumed under latex, 
% and a .pdf suffix will be assumed for pdflatex; or what has been declared
% via \DeclareGraphicsExtensions.
%\caption{Simulation results for the network.}
%\label{fig_sim}
%\end{figure}

% Note that the IEEE typically puts floats only at the top, even when this
% results in a large percentage of a column being occupied by floats.


% An example of a double column floating figure using two subfigures.
% (The subfig.sty package must be loaded for this to work.)
% The subfigure \label commands are set within each subfloat command,
% and the \label for the overall figure must come after \caption.
% \hfil is used as a separator to get equal spacing.
% Watch out that the combined width of all the subfigures on a 
% line do not exceed the text width or a line break will occur.
%
%\begin{figure*}[!t]
%\centering
%\subfloat[Case I]{\includegraphics[width=2.5in]{box}%
%\label{fig_first_case}}
%\hfil
%\subfloat[Case II]{\includegraphics[width=2.5in]{box}%
%\label{fig_second_case}}
%\caption{Simulation results for the network.}
%\label{fig_sim}
%\end{figure*}
%
% Note that often IEEE papers with subfigures do not employ subfigure
% captions (using the optional argument to \subfloat[]), but instead will
% reference/describe all of them (a), (b), etc., within the main caption.
% Be aware that for subfig.sty to generate the (a), (b), etc., subfigure
% labels, the optional argument to \subfloat must be present. If a
% subcaption is not desired, just leave its contents blank,
% e.g., \subfloat[].


% An example of a floating table. Note that, for IEEE style tables, the
% \caption command should come BEFORE the table and, given that table
% captions serve much like titles, are usually capitalized except for words
% such as a, an, and, as, at, but, by, for, in, nor, of, on, or, the, to
% and up, which are usually not capitalized unless they are the first or
% last word of the caption. Table text will default to \footnotesize as
% the IEEE normally uses this smaller font for tables.
% The \label must come after \caption as always.
%
%\begin{table}[!t]
%% increase table row spacing, adjust to taste
%\renewcommand{\arraystretch}{1.3}
% if using array.sty, it might be a good idea to tweak the value of
% \extrarowheight as needed to properly center the text within the cells
%\caption{An Example of a Table}
%\label{table_example}
%\centering
%% Some packages, such as MDW tools, offer better commands for making tables
%% than the plain LaTeX2e tabular which is used here.
%\begin{tabular}{|c||c|}
%\hline
%One & Two\\
%\hline
%Three & Four\\
%\hline
%\end{tabular}
%\end{table}


% Note that the IEEE does not put floats in the very first column
% - or typically anywhere on the first page for that matter. Also,
% in-text middle ("here") positioning is typically not used, but it
% is allowed and encouraged for Computer Society conferences (but
% not Computer Society journals). Most IEEE journals/conferences use
% top floats exclusively. 
% Note that, LaTeX2e, unlike IEEE journals/conferences, places
% footnotes above bottom floats. This can be corrected via the
% \fnbelowfloat command of the stfloats package.








% if have a single appendix:
%\appendix[Proof of the Zonklar Equations]
% or
%\appendix  % for no appendix heading
% do not use \section anymore after \appendix, only \section*
% is possibly needed

% use appendices with more than one appendix
% then use \section to start each appendix
% you must declare a \section before using any
% \subsection or using \label (\appendices by itself
% starts a section numbered zero.)
%

% \appendices
% \include{appendix/est_paper_err_state_dynamics}
% \include{appendix/est_paper_visual_feature_pixel_measurement}

% \appendices
% \section{Proof of the First Zonklar Equation}
% Appendix one text goes here.

% you can choose not to have a title for an appendix
% if you want by leaving the argument blank
% \section{}
% Appendix two text goes here.


% use section* for acknowledgment
% \section*{Acknowledgment}


% The authors would like to thank...


% Can use something like this to put references on a page
% by themselves when using endfloat and the captionsoff option.
\ifCLASSOPTIONcaptionsoff
  \newpage
\fi



\bibliographystyle{IEEEtran}
\bibliography{abbrev,library}

% trigger a \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
%\IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

% references section

% can use a bibliography generated by BibTeX as a .bbl file
% BibTeX documentation can be easily obtained at:
% http://mirror.ctan.org/biblio/bibtex/contrib/doc/
% The IEEEtran BibTeX style support page is at:
% http://www.michaelshell.org/tex/ieeetran/bibtex/
%\bibliographystyle{IEEEtran}
% argument is your BibTeX string definitions and bibliography database(s)
%\bibliography{IEEEabrv,../bib/paper}
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)
% \begin{thebibliography}{1}

% \bibitem{IEEEhowto:kopka}
% H.~Kopka and P.~W. Daly, \emph{A Guide to \LaTeX}, 3rd~ed.\hskip 1em plus
  % 0.5em minus 0.4em\relax Harlow, England: Addison-Wesley, 1999.

% \end{thebibliography}

% biography section
% 
% If you have an EPS/PDF photo (graphicx package needed) extra braces are
% needed around the contents of the optional argument to biography to prevent
% the LaTeX parser from getting confused when it sees the complicated
% \includegraphics command within an optional argument. (You could create
% your own custom macro containing the \includegraphics command to make things
% simpler here.)
%\begin{IEEEbiography}[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]{mshell}}]{Michael Shell}
% or if you just want to reserve a space for a photo:

% \begin{IEEEbiography}{Michael D. Farrell}
% Biography text here.
% \end{IEEEbiography}
% \begin{IEEEbiographynophoto}{Michael D. Farrell}
\begin{IEEEbiography}[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]{imgs/MF.jpg}}]{Michael
  D. Farrell}
  received the B.S. degree in mechanical engineering from Brigham Young
  University, Provo, UT, in 2017, where he is currently working toward the M.S.
  degree. His research focuses on autonomous landing of small UAVs using
  visual-inertial sensor fusion.
\end{IEEEbiography}
% \end{IEEEbiographynophoto}

% if you will not have a photo at all:
\begin{IEEEbiography}[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]{imgs/TWM.jpg}}]{Timothy W. McLain}
  (S'91--M'93--SM'03)
is a professor of mechanical engineering at Brigham Young University. He
received BS and MS degrees from BYU and a PhD from Stanford University, all in
mechanical engineering. He joined BYU as a professor in 1995. During 1999 and 2000,
he was a visiting scientist at the Air Force Research Laboratory where he initiated
research in the guidance and control of unmanned aircraft systems. Since then, his UAS
research has attracted the support of the Air Force, the Army, DARPA, NASA, NSF, ONR,
NIST, and numerous companies. He is a co-author of the textbook Small Unmanned
Aircraft and the author of over 140 peer-reviewed articles. From 2012 to 2019, he was
the director of the Center for Unmanned Aircraft Systems sponsored by the National
Science Foundation. He currently serves as the associate dean of the Fulton College of
Engineering at BYU.
\end{IEEEbiography}

% insert where needed to balance the two columns on the last page with
% biographies
%\newpage

% \begin{IEEEbiographynophoto}{Jane Doe}
% Biography text here.
% \end{IEEEbiographynophoto}

% You can push biographies down or up by placing
% a \vfill before or after them. The appropriate
% use of \vfill depends on what kind of text is
% on the last page and whether or not the columns
% are being equalized.

%\vfill

% Can be used to pull up biographies so that the bottom of the last one
% is flush with the other column.
%\enlargethispage{-5in}


% that's all folks
\end{document}


